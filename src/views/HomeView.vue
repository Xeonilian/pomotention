// HomeView.vue
<template>  
  <div class="home-content">  
    <div class="content">  
      <div v-if="showLeft" class="left"><ScheduleView /></div>  
      <div class="middle">  
        <div v-if="showMiddleTop" class="middle-top"><TodayView :pickedTodoActivity="pickedTodoActivity"/></div>  
        <div class="middle-bottom">
        <div class="button-group">  
          <n-button  
            size="small"  
            circle  secondary strong type = "info"
            @click="showLeft = !showLeft"  
            :style="buttonStyle(showLeft)"  
            title="ÂàáÊç¢Êó•Á®ãËßÜÂõæ"  
            >üóìÔ∏è</n-button>  
          <n-button  
            size="small"  
            circle secondary strong type = "info" 
            @click="showMiddleTop = !showMiddleTop"  
            :style="buttonStyle(showMiddleTop)"  
            title="ÂàáÊç¢ÂæÖÂäûËßÜÂõæ"  
            >üñäÔ∏è</n-button>  
          <n-button  
            size="small"  
            circle  secondary strong type = "info"
            @click="showRight = !showRight"  
            :style="buttonStyle(showRight)"  
            title="ÂàáÊç¢Ê¥ªÂä®ËßÜÂõæ"  
            >üìã</n-button>  
      </div>  
          <TaskView /></div>  
      </div>  
      <div v-if="showRight" class="right"><ActivityView  @pick-activity-todo="passPickedActivity" /></div>  
    </div>  
  </div>  
</template>  

<script setup lang="ts">  

import { ref } from 'vue'  
import { NButton } from 'naive-ui'  
import ScheduleView from './Home/ScheduleView.vue'  
import TodayView from './Home/TodayView.vue'  
import TaskView from './Home/TaskView.vue'  
import ActivityView from './Home/ActivityView.vue' 
import type { Activity } from '../core/types/Activity'

// 1 Êï∞ÊçÆÂÆö‰πâ
const showLeft = ref(true)  
const showMiddleTop = ref(true)  
const showRight = ref(true)  


// ÈÄâ‰∏≠‰ªªÂä°
const pickedTodoActivity = ref<Activity | null>(null) 

function passPickedActivity(activity: Activity) {
  pickedTodoActivity.value = activity
}

function buttonStyle(show: boolean) {  
  return {  
    filter: show ? 'none' : 'grayscale(100%)',  
    opacity: show ? 1 : 0.6,  
  }  
}  
</script>  

<style scoped>  
.home-content {  
  display: flex;  
  flex-direction: column;  
  height: 100%;  
  overflow: auto; 
  flex: 1; 
}  

.content {  
  flex: 1;  
  display: flex;  
  background: #fafafa;  
  overflow: auto;  
}  

.button-group {  
  display: flex;  
  gap: 8px;  
  padding: 0px; 
  justify-content: flex-end;
} 

.left {  
  width: 240px;  
  background: #e1eaf3;  
  padding: 16px;  
  box-sizing: border-box;  
  overflow-y: hidden; /*BUG*/ 
  margin-right: 8px;
}  

.right {  
  width: 480px;  
  background: #f0e9d8;  
  padding: 16px;  
  box-sizing: border-box;  
  overflow: auto;  
  margin-left: 8px;
}  

.middle {  
  flex: 1;  
  display: flex;  
  flex-direction: column;  
  padding: 0px;  
  box-sizing: border-box;  
  background: #fff;  
  overflow: hidden;  
}  

.middle-top {  
  height: 40%;  
  background: #f7f2f0;  
  margin-bottom: 12px;  
  overflow: auto;  
  padding: 8px;  
  box-sizing: border-box;  
}  

.middle-bottom {  
  flex: 1;  
  background: #f7f2f0;  
  overflow: auto;  
  padding: 8px;  
  box-sizing: border-box; 
  height: 60%;  
}  
</style>  