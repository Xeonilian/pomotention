# Pomotention - 番茄意图

🍅 **基于番茄工作法的深度专注与效率管理系统**

- **Pomotention** = **Pomodoro** + **Intention**
- 强化番茄工作法的"意图"管理，让每个番茄周期都有明确目标和深度反思
- 为无所事事与自己照顾寻找一片空间

🎯 核心目标：基于番茄工作法六大核心目标，打造完整的时间管理解决方案：

- **精准测量** - 利用番茄钟准确了解任务真实耗时
- **专注管理** - 识别并有效处理内外打扰事件
- **预估优化** - 通过对比实际执行提升时间预估准确性
- **效率提升** - 引入目标回忆机制，将多个番茄组织成有机整体
- **时间规划** - 将一天精细化规划为多组番茄时间块
- 智能分析 - 利用数据记录和 AI 工具优化任务执行 【开发中】

🚀 主要功能

- **日程管理** - 创建工作/娱乐模板，智能计算可用番茄时间
- **活动管理** - 支持任务、待办、休闲等多类型活动创建与筛选
- **番茄时钟** - 完整计时控制，自动记录，自定义专注/休息循环
- **执行追踪** - 预估 vs 实际误差分析，打扰事件记录，精力值管理
- **反思记录** - 任务关联的深度思考和总结
- **今日待办** - 自动提取当日计划，支持任务流转
- **数据可视化** - 时间轴分布、番茄统计、历史数据分析

## 📦 快速开始

### 下载安装

```bash
# 源码安装
git clone https://github.com/Xeonilian/pomotention.git

# 直接下载
Windows 便携版: https://github.com/Xeonilian/pomotention/releases/download/v0.1.0/pomotention.exe
Windows 安装包: https://github.com/Xeonilian/pomotention/releases/download/v0.1.0/pomotention_0.1.0_x64_en-US.msi
```

### 安全提醒

由于未购买数字证书，Windows/macOS 可能显示安全警告。软件经过测试无恶意代码，可通过以下方式安装：

**Windows**: 点击"更多信息" → "仍要运行"  
**macOS**: 按住 Control 点击 → "打开"，或在"安全性与隐私"中允许运行

### 数据存储

- 历史记录安全存储在本地，卸载不丢失
- 后续版本将支持数据导出备份
- 存储位置：
  - **Windows**: %LOCALAPPDATA%\com.pomotention.app\EBWebView\Default\Local Storage\leveldb
  - **macOS**: ~/Library/Application Support/com.pomotention.app/

## 📖 使用指南

### 1. **设置时间表模板**

设置你的工作和娱乐时间安排
**操作步骤：**

1. 点击 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M10.417 8A2.417 2.417 0 0 0 8 10.417C8 11.29 8.709 12 9.583 12h4.834C15.29 12 16 11.291 16 10.417A2.417 2.417 0 0 0 13.583 8h-3.166zM9.5 10.417c0-.507.41-.917.917-.917h3.166c.507 0 .917.41.917.917a.083.083 0 0 1-.083.083H9.583a.083.083 0 0 1-.083-.083zM12 2a3.75 3.75 0 0 0-3.736 3.424A7.999 7.999 0 0 0 4 12.5v6.25A3.25 3.25 0 0 0 7.25 22h9.5A3.25 3.25 0 0 0 20 18.75V12.5a7.999 7.999 0 0 0-4.264-7.076A3.75 3.75 0 0 0 12 2zm6.5 12h-13v-1.5a6.5 6.5 0 0 1 13 0V14zM8 17.25a.75.75 0 0 0 1.5 0v-1.536h9v3.036a1.75 1.75 0 0 1-1.75 1.75h-9.5a1.75 1.75 0 0 1-1.75-1.75v-3.036H8v1.536zM12 4.5c-.698 0-1.374.09-2.02.257a2.25 2.25 0 0 1 4.04 0A8.013 8.013 0 0 0 12 4.5z" fill="currentColor"></path></g></svg>/<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M9.35 5.321a6.75 6.75 0 0 1 11.692 6.75l-.25.434a.75.75 0 0 1-1.025.274l-4.558-2.632l-2.373 4.152c1.905.226 3.59 1.21 4.843 2.615a2.001 2.001 0 0 0-1.3.802C15.214 16.508 13.666 15.75 12 15.75c-1.666 0-3.214.758-4.38 1.966a2.002 2.002 0 0 0-1.299-.802c1.24-1.39 2.903-2.368 4.783-2.607l2.806-4.91l-4.535-2.618A.75.75 0 0 1 9.1 5.754l.25-.433zm1.43.537l1.966 1.135c.534-.819 1.074-1.493 1.743-2.102a11.15 11.15 0 0 1 1.826-1.325a5.253 5.253 0 0 0-5.535 2.292zm5.81 3.354c.554-.997.82-1.79.916-2.555c.077-.62.047-1.255-.064-2.01c-.818.46-1.43.887-1.944 1.354c-.533.485-.981 1.031-1.451 1.743l2.543 1.468zm1.299.75l1.974 1.14a5.253 5.253 0 0 0-.857-6.02a7.98 7.98 0 0 1-.012 1.761c-.126 1.01-.476 1.993-1.105 3.12zM6.714 18.66a.75.75 0 0 0-1.444.056c-.21.891-.607 1.364-1.041 1.634c-.46.286-1.05.401-1.729.401a.75.75 0 0 0 0 1.5c.822 0 1.73-.135 2.521-.627a3.504 3.504 0 0 0 1.062-1.029c1.552 1.866 4.41 1.857 5.917-.029c1.534 1.919 4.466 1.895 5.997-.07c.848 1.108 2.17 1.755 3.503 1.755a.75.75 0 1 0 0-1.5c-1.183 0-2.384-.797-2.784-2.084a.75.75 0 0 0-1.43-.007c-.784 2.44-3.81 2.399-4.575.104a.75.75 0 0 0-1.422 0c-.765 2.295-3.791 2.335-4.575-.104z" fill="currentColor"></path></g></svg>：切换工作/休息时间表
2. 点击<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M12.013 2.25c.734.008 1.465.093 2.181.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.928 1.116l1.4-.615a.75.75 0 0 1 .85.174a9.793 9.793 0 0 1 2.204 3.792a.75.75 0 0 1-.271.825l-1.242.916a1.38 1.38 0 0 0 .001 2.226l1.243.915a.75.75 0 0 1 .271.826a9.798 9.798 0 0 1-2.203 3.792a.75.75 0 0 1-.849.175l-1.406-.617a1.38 1.38 0 0 0-1.927 1.114l-.169 1.526a.75.75 0 0 1-.572.647a9.518 9.518 0 0 1-4.405 0a.75.75 0 0 1-.572-.647l-.17-1.524a1.382 1.382 0 0 0-1.924-1.11l-1.407.616a.75.75 0 0 1-.849-.175a9.798 9.798 0 0 1-2.203-3.796a.75.75 0 0 1 .271-.826l1.244-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.272-.826a9.793 9.793 0 0 1 2.205-3.792a.75.75 0 0 1 .849-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.718-.159 1.45-.243 2.202-.252zm0 1.5a9.135 9.135 0 0 0-1.355.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.798.588c.32.842.775 1.626 1.347 2.322l.906-.397a2.882 2.882 0 0 1 4.017 2.318l.108.984c.89.15 1.799.15 2.689 0l.108-.984a2.88 2.88 0 0 1 4.02-2.322l.904.396a8.299 8.299 0 0 0 1.347-2.318l-.798-.588a2.88 2.88 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.99 8.99 0 0 0-1.333-.117zM12 8.25a3.75 3.75 0 1 1 0 7.5a3.75 3.75 0 0 1 0-7.5zm0 1.5a2.25 2.25 0 1 0 0 4.5a2.25 2.25 0 0 0 0-4.5z" fill="currentColor"></path></g></svg>进入编辑状态，
3. 下拉菜单选择时间段的类型，输入或选择开始结束时间
4. <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2zm0 1.5a8.5 8.5 0 1 0 0 17a8.5 8.5 0 0 0 0-17zM12 7a.75.75 0 0 1 .75.75v3.5h3.5a.75.75 0 0 1 0 1.5h-3.5v3.5a.75.75 0 0 1-1.5 0v-3.5h-3.5a.75.75 0 0 1 0-1.5h3.5v-3.5A.75.75 0 0 1 12 7z" fill="currentColor"></path></g></svg>添加时间段，自增 4h，达到 24:00 时提示“24h 添加完毕”
5. 点击<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M12 1.75a3.25 3.25 0 0 1 3.245 3.066L15.25 5h5.25a.75.75 0 0 1 .102 1.493L20.5 6.5h-.796l-1.28 13.02a2.75 2.75 0 0 1-2.561 2.474l-.176.006H8.313a2.75 2.75 0 0 1-2.714-2.307l-.023-.174L4.295 6.5H3.5a.75.75 0 0 1-.743-.648L2.75 5.75a.75.75 0 0 1 .648-.743L3.5 5h5.25A3.25 3.25 0 0 1 12 1.75zm6.197 4.75H5.802l1.267 12.872a1.25 1.25 0 0 0 1.117 1.122l.127.006h7.374c.6 0 1.109-.425 1.225-1.002l.02-.126L18.196 6.5zM13.75 9.25a.75.75 0 0 1 .743.648L14.5 10v7a.75.75 0 0 1-1.493.102L13 17v-7a.75.75 0 0 1 .75-.75zm-3.5 0a.75.75 0 0 1 .743.648L11 10v7a.75.75 0 0 1-1.493.102L9.5 17v-7a.75.75 0 0 1 .75-.75zm1.75-6a1.75 1.75 0 0 0-1.744 1.606L10.25 5h3.5A1.75 1.75 0 0 0 12 3.25z" fill="currentColor"></path></g></svg>删除最后一个时间段
6. 可点击<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48"><g fill="none"><path d="M13.81 6.81a1.5 1.5 0 0 0-2.12-2.12l-7.5 7.5a1.5 1.5 0 0 0 0 2.12l7.5 7.5a1.5 1.5 0 0 0 2.12-2.12l-4.939-4.94H26.5c7.042 0 12.75 5.708 12.75 12.75S33.542 40.25 26.5 40.25S13.75 34.542 13.75 27.5a1.5 1.5 0 0 0-3 0c0 8.699 7.052 15.75 15.75 15.75c8.699 0 15.75-7.051 15.75-15.75c0-8.698-7.051-15.75-15.75-15.75H8.871l4.94-4.94z" fill="currentColor"></path></g></svg>重置当前所选时间表的默认状态
7. 点击<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M12.013 2.25c.734.008 1.465.093 2.181.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.928 1.116l1.4-.615a.75.75 0 0 1 .85.174a9.793 9.793 0 0 1 2.204 3.792a.75.75 0 0 1-.271.825l-1.242.916a1.38 1.38 0 0 0 .001 2.226l1.243.915a.75.75 0 0 1 .271.826a9.798 9.798 0 0 1-2.203 3.792a.75.75 0 0 1-.849.175l-1.406-.617a1.38 1.38 0 0 0-1.927 1.114l-.169 1.526a.75.75 0 0 1-.572.647a9.518 9.518 0 0 1-4.405 0a.75.75 0 0 1-.572-.647l-.17-1.524a1.382 1.382 0 0 0-1.924-1.11l-1.407.616a.75.75 0 0 1-.849-.175a9.798 9.798 0 0 1-2.203-3.796a.75.75 0 0 1 .271-.826l1.244-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.272-.826a9.793 9.793 0 0 1 2.205-3.792a.75.75 0 0 1 .849-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.718-.159 1.45-.243 2.202-.252zm0 1.5a9.135 9.135 0 0 0-1.355.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.798.588c.32.842.775 1.626 1.347 2.322l.906-.397a2.882 2.882 0 0 1 4.017 2.318l.108.984c.89.15 1.799.15 2.689 0l.108-.984a2.88 2.88 0 0 1 4.02-2.322l.904.396a8.299 8.299 0 0 0 1.347-2.318l-.798-.588a2.88 2.88 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.99 8.99 0 0 0-1.333-.117zM12 8.25a3.75 3.75 0 1 1 0 7.5a3.75 3.75 0 0 1 0-7.5zm0 1.5a2.25 2.25 0 1 0 0 4.5a2.25 2.25 0 0 0 0-4.5z" fill="currentColor"></path></g></svg>编辑完成

**预期结果：** 系统会自动计算出可用的番茄时间块数量和休息的葡萄数量（例如：工作时间可安排 22 个番茄，11 个葡萄）

---

### 2. **管理活动清单**

管理活动清单并选择待办任务

**操作步骤：**

1.  点击<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2zm0 1.5a8.5 8.5 0 1 0 0 17a8.5 8.5 0 0 0 0-17zM12 7a.75.75 0 0 1 .75.75v3.5h3.5a.75.75 0 0 1 0 1.5h-3.5v3.5a.75.75 0 0 1-1.5 0v-3.5h-3.5a.75.75 0 0 1 0-1.5h3.5v-3.5A.75.75 0 0 1 12 7z" fill="currentColor"></path></g></svg>增加活动（任务/预约/无所事事）
2.  编辑活动内容：

    - 待办任务（Task）：描述、预估、到期时间
      - 选中任务行，点击切换任务类型
      - 🍅 匹配工作时间=25min
      - 🍇 匹配生活时间=25min
      - 🍒 匹配工作时间=4x15min（沉浸工作法）
    - 预约任务（Schedule）：描述、地点、持续时间、开始时间
      - 无所事事（Untaetigkeit）：描述、地点、持续时间、开始时间

3.  点击选中一行后，点击删除活动
4.  点击筛选获得：今日到期、内外打扰、显示全部、待办任务、预约任务
5.  选中任务到今日待办
    - 预约类任务通过设置开始时间自动添加
    - 待办任务点击添加，传动到今日待办区域

## **预期结果：**

1. 添加、删除和编辑活动
2. 活动用不同的 icon 颜色区分状态

### 3. **安排今日待办**

**操作步骤：**

**预期结果：**

---

### 4. **任务执行追踪**

**操作步骤：**

**预期结果：**

### 5. **界面可视化**

切换页面布局设置满足不同需求

**操作步骤：**

1. 点击按钮隐藏和显示区域：

   - <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M10.295 19.715a1 1 0 0 0 1.404-1.424l-5.37-5.292h13.67a1 1 0 0 0 0-2H6.336l5.364-5.285a1 1 0 0 0-1.404-1.424L3.37 11.112a1.25 1.25 0 0 0 0 1.78l6.924 6.823z" fill="currentColor"></path></g></svg> 时间表区域（左侧）
   - <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M4.284 10.295a1 1 0 0 0 1.424 1.404L11 6.329v13.67a1 1 0 1 0 2 0V6.335l5.285 5.364a1 1 0 0 0 1.424-1.404L12.887 3.37a1.25 1.25 0 0 0-1.78 0l-6.823 6.924z" fill="currentColor"></path></g></svg> 今日待办区域（中上）
   - <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M19.716 13.704a1 1 0 0 0-1.425-1.403l-5.29 5.37V4a1 1 0 1 0-2 0v13.665L5.714 12.3a1 1 0 0 0-1.424 1.403l6.822 6.925a1.25 1.25 0 0 0 1.78 0l6.823-6.925z" fill="currentColor"></path></g></svg> 任务追踪区域（中下）
   - <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M13.704 4.284a1 1 0 1 0-1.403 1.424L17.67 11H4a1 1 0 1 0 0 2h13.665L12.3 18.285a1 1 0 0 0 1.403 1.424l6.925-6.822a1.25 1.25 0 0 0 0-1.78l-6.925-6.823z" fill="currentColor"></path></g></svg> 活动清单区域（右侧）
   - <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M12 5a8.5 8.5 0 1 1 0 17a8.5 8.5 0 0 1 0-17zm0 1.5a7 7 0 1 0 0 14a7 7 0 0 0 0-14zM12 8a.75.75 0 0 1 .743.648l.007.102v4.5a.75.75 0 0 1-1.493.102l-.007-.102v-4.5A.75.75 0 0 1 12 8zm7.147-2.886l.083.06l1.158.964a.75.75 0 0 1-.877 1.212l-.082-.06l-1.159-.964a.75.75 0 0 1 .877-1.212zM14.25 2.5a.75.75 0 0 1 .102 1.493L14.25 4h-4.5a.75.75 0 0 1-.102-1.493L9.75 2.5h4.5z" fill="currentColor"></path></g></svg> 番茄时钟（中下，可全局拖动）

2. 调整页面大小仅保留番茄钟区域

**预期结果：**

1. 各阶段关注不同的区域，减少分心
2. 将软件当做日程管理软件
3. 将软件当做番茄时钟

---

### 6. **数据查看**

查看历史记录

**操作步骤：**

1. 点击<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M21 4.753c0-1.408-1.578-2.24-2.74-1.444L7.763 10.503a1.75 1.75 0 0 0-.01 2.88l10.499 7.302c1.16.807 2.749-.024 2.749-1.437V4.753zm-1.891-.206a.25.25 0 0 1 .39.206v14.495a.25.25 0 0 1-.392.205L8.61 12.152a.25.25 0 0 1 .001-.412L19.11 4.547zM3 3.75a.75.75 0 0 1 1.5 0v16.5a.75.75 0 0 1-1.5 0V3.75z" fill="currentColor"></path></g></svg>查看上一天
2. 点击<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none"><path d="M3 4.753c0-1.408 1.578-2.24 2.74-1.444l10.498 7.194a1.75 1.75 0 0 1 .01 2.88L5.749 20.685C4.59 21.492 3 20.66 3 19.248V4.753zm1.891-.206a.25.25 0 0 0-.39.206v14.495c0 .202.226.32.392.205l10.498-7.301a.25.25 0 0 0-.001-.412L4.89 4.547zM21 3.75a.75.75 0 0 0-1.5 0v16.5a.75.75 0 0 0 1.5 0V3.75z" fill="currentColor"></path></g></svg>查看下一天
3. 点击<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20"><g fill="none"><path d="M14.5 3A2.5 2.5 0 0 1 17 5.5v9a2.5 2.5 0 0 1-2.5 2.5h-3v-1h3a1.5 1.5 0 0 0 1.5-1.5V7H4v7.5A1.5 1.5 0 0 0 5.5 16h3v1h-3A2.5 2.5 0 0 1 3 14.5v-9A2.5 2.5 0 0 1 5.5 3h9zm0 1h-9A1.5 1.5 0 0 0 4 5.5V6h12v-.5A1.5 1.5 0 0 0 14.5 4zM11 9a1 1 0 1 1-2 0a1 1 0 0 1 2 0zm.884 5.07a.5.5 0 0 1-.704.064l-.68-.566V17.5a.5.5 0 1 1-1 0v-3.932l-.68.566a.5.5 0 0 1-.64-.768l1.5-1.25a.5.5 0 0 1 .64 0l1.5 1.25a.5.5 0 0 1 .064.704z" fill="currentColor"></path></g></svg>回到当日

**预期结果：**

1. 以蓝色底色标记非当天
2. 时间表和今日待办区域显示所选日期的数据
3. 全局累积番茄不变

### 7. 番茄计时器

工作时间、休息时间和连续时间计时
**操作步骤：**

## 🛠️ 技术架构

- **前端**: Vue.js + TypeScript + Naive UI
- **后端**: Tauri (Rust)
- **平台**: Windows / macOS

## 🎓 开发参考

- [拖延深度改善课程](https://ebp.gesedna.com/product/delay_multi/?rd=%2F) - 系统性解决拖延问题
- [番茄列车](https://ebp.gesedna.com/pa-group-info-pomo/?rd=%2FEBPTsundoku%2F%3Frd%3D%2F) - 社群化专注实践
- [番茄工作法官网](https://www.pomodorotechnique.com/) - 番茄工作法理念和方法论
- [沉思的生活，或无所事事 Vita contemplativa oder von der Untätigkeit](https://book.douban.com/subject/36425441/) - 为了自由

_让每个番茄都是一次关于如何生活的选择 -ฅ(\*ΦωΦ)ฅ---- cognata ad sidera tendit..._
